{
  mCurrentState=state;
switch (mCurrentState) {
case CURRENT_STATE_NORMAL:
    if (JCMediaManager.instance().listener == this) {
      JCMediaManager.instance().releaseMediaPlayer();
      cancelProgressTimer();
    }
  break;
case CURRENT_STATE_PREPAREING:
resetProgressAndTime();
break;
case CURRENT_STATE_PLAYING:
startProgressTimer();
break;
case CURRENT_STATE_PAUSE:
startProgressTimer();
break;
case CURRENT_STATE_ERROR:
if (JCMediaManager.instance().listener == this) {
JCMediaManager.instance().releaseMediaPlayer();
onCompletion();
}
break;
case CURRENT_STATE_AUTO_COMPLETE:
cancelProgressTimer();
progressBar.setProgress(100);
break;
}
}
