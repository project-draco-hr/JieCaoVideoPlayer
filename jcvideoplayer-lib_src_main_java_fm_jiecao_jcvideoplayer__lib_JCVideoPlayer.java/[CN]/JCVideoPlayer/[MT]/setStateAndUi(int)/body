{
  mCurrentState=state;
switch (mCurrentState) {
case CURRENT_STATE_NORMAL:
    if (JCMediaManager.instance().listener == this) {
      cancelProgressTimer();
      JCMediaManager.instance().releaseMediaPlayer();
    }
  break;
case CURRENT_STATE_PREPAREING:
resetProgressAndTime();
break;
case CURRENT_STATE_PLAYING:
startProgressTimer();
break;
case CURRENT_STATE_PAUSE:
startProgressTimer();
break;
case CURRENT_STATE_ERROR:
if (JCMediaManager.instance().listener == this) {
onCompletion();
JCMediaManager.instance().releaseMediaPlayer();
}
break;
case CURRENT_STATE_AUTO_COMPLETE:
cancelProgressTimer();
progressBar.setProgress(100);
currentTimeTextView.setText(totalTimeTextView.getText());
break;
}
}
