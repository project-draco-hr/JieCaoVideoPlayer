{
  float x=event.getX();
  float y=event.getY();
  int id=v.getId();
  if (id == R.id.surface_container) {
switch (event.getAction()) {
case MotionEvent.ACTION_DOWN:
      Log.i(TAG,"onTouch surfaceContainer actionDown [" + this.hashCode() + "] ");
    mTouchingProgressBar=true;
  mDownX=x;
mDownY=y;
mChangeVolume=false;
mChangePosition=false;
break;
case MotionEvent.ACTION_MOVE:
Log.i(TAG,"onTouch surfaceContainer actionMove [" + this.hashCode() + "] ");
float deltaX=x - mDownX;
float deltaY=y - mDownY;
float absDeltaX=Math.abs(deltaX);
float absDeltaY=Math.abs(deltaY);
if (mIfCurrentIsFullscreen) {
if (!mChangePosition && !mChangeVolume) {
if (absDeltaX > mThreshold || absDeltaY > mThreshold) {
cancelProgressTimer();
if (absDeltaX >= mThreshold) {
mChangePosition=true;
mDownPosition=getCurrentPositionWhenPlaying();
if (JC_BURIED_POINT != null && JCMediaManager.instance().listener == this) {
JC_BURIED_POINT.onTouchScreenSeekPosition(mUrl,mObjects);
}
}
 else {
mChangeVolume=true;
mGestureDownVolume=mAudioManager.getStreamVolume(AudioManager.STREAM_MUSIC);
if (JC_BURIED_POINT != null && JCMediaManager.instance().listener == this) {
JC_BURIED_POINT.onTouchScreenSeekVolume(mUrl,mObjects);
}
}
}
}
}
if (mChangePosition) {
int totalTimeDuration=getDuration();
mSeekTimePosition=(int)(mDownPosition + deltaX * totalTimeDuration / mScreenWidth);
if (mSeekTimePosition > totalTimeDuration) mSeekTimePosition=totalTimeDuration;
String seekTime=JCUtils.stringForTime(mSeekTimePosition);
String totalTime=JCUtils.stringForTime(totalTimeDuration);
showProgressDialog(deltaX,seekTime,mSeekTimePosition,totalTime,totalTimeDuration);
}
if (mChangeVolume) {
deltaY=-deltaY;
int max=mAudioManager.getStreamMaxVolume(AudioManager.STREAM_MUSIC);
int deltaV=(int)(max * deltaY * 3 / mScreenHeight);
mAudioManager.setStreamVolume(AudioManager.STREAM_MUSIC,mGestureDownVolume + deltaV,0);
int volumePercent=(int)(mGestureDownVolume * 100 / max + deltaY * 3 * 100 / mScreenHeight);
showVolumDialog(-deltaY,volumePercent);
}
break;
case MotionEvent.ACTION_UP:
Log.i(TAG,"onTouch surfaceContainer actionUp [" + this.hashCode() + "] ");
mTouchingProgressBar=false;
dismissProgressDialog();
dismissVolumDialog();
if (mChangePosition) {
JCMediaManager.instance().mediaPlayer.seekTo(mSeekTimePosition);
int duration=getDuration();
int progress=mSeekTimePosition * 100 / (duration == 0 ? 1 : duration);
progressBar.setProgress(progress);
}
startProgressTimer();
if (JC_BURIED_POINT != null && JCMediaManager.instance().listener == this) {
if (mIfCurrentIsFullscreen) {
JC_BURIED_POINT.onClickSeekbarFullscreen(mUrl,mObjects);
}
 else {
JC_BURIED_POINT.onClickSeekbar(mUrl,mObjects);
}
}
break;
}
}
 else if (id == R.id.progress) {
switch (event.getAction()) {
case MotionEvent.ACTION_DOWN:
Log.i(TAG,"onTouch bottomProgress actionUp [" + this.hashCode() + "] ");
cancelProgressTimer();
ViewParent vpdown=getParent();
while (vpdown != null) {
vpdown.requestDisallowInterceptTouchEvent(true);
vpdown=vpdown.getParent();
}
break;
case MotionEvent.ACTION_UP:
Log.i(TAG,"onTouch bottomProgress actionDown [" + this.hashCode() + "] ");
startProgressTimer();
ViewParent vpup=getParent();
while (vpup != null) {
vpup.requestDisallowInterceptTouchEvent(false);
vpup=vpup.getParent();
}
break;
}
}
return false;
}
