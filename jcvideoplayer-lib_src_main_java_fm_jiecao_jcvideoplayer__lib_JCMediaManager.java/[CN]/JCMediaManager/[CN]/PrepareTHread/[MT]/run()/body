{
  try {
    Log.i(TAG,"prepareToPlay run");
synchronized (mediaAsyncObj) {
      Log.i(TAG,"prepareToPlay start");
      currentVideoWidth=0;
      currentVideoHeight=0;
      mediaPlayer.release();
      mediaPlayer=new MediaPlayer();
      mediaPlayer.setAudioStreamType(AudioManager.STREAM_MUSIC);
      mediaPlayer.setDataSource(context,Uri.parse(url),mapHeadData);
      mediaPlayer.setOnPreparedListener(JCMediaManager.this);
      mediaPlayer.setOnCompletionListener(JCMediaManager.this);
      mediaPlayer.setOnBufferingUpdateListener(JCMediaManager.this);
      mediaPlayer.setScreenOnWhilePlaying(true);
      mediaPlayer.setOnSeekCompleteListener(JCMediaManager.this);
      mediaPlayer.setOnErrorListener(JCMediaManager.this);
      mediaPlayer.setOnVideoSizeChangedListener(JCMediaManager.this);
      mediaPlayer.prepareAsync();
      Log.i(TAG,"prepareToPlay done");
    }
  }
 catch (  IOException e) {
    e.printStackTrace();
  }
}
